<main class="main-home">
  <div class="information-change">
    <div>
      <div style="font-size: 14px; color: #666;">{{ bank$.name }} → {{ cryptocurrency$.cryptocurrency }}</div>
      <div style="font-size: 14px; color: #333;"><strong>{{ num_currency }} {{ bank$.currency }} = {{ num_crypto }} {{ cryptocurrency$.price_currency }}</strong></div>
    </div>
    <div class="sum-change">
      Сумма обмена:<br>
      От 25000 RUB до 300000 RUB
    </div>
  </div>
  <form id="form-create-request" [formGroup]="form" (ngSubmit)="onSubmit('agreement')">
    <div style="display: flex; gap: 20px; margin-bottom: 20px;">
      @for (feed of feedsCurrency; track feed.name) {
        <div style="flex: 1;">
          <div class="label-sender">
            {{ feed.name }}
          </div>
          <div style="position: relative; margin-bottom: 15px;">
            <input [id]="feed.controlNameInput" class="input-sum-chang" type="text" placeholder="Введите сумму" [formControlName]="feed.controlNameInput">
          </div>
          <div class="currency-feed">
            @for (column of feed.array; track column) {
              @if ('name' in column) {
                <div class="column-feed bank" (click)="onSelectColumnCurrency(column)">
                    <div style="font-size: 14px;">{{ column.name }} {{ column.currency }}</div>
                </div>
              }
              @else if ('price' in column) {
                <div class="column-feed currency" (click)="onSelectColumnCryptoCurrency(column)">
                  <div style="font-size: 14px;">{{ column.cryptocurrency }} {{ column.price_currency }}</div>
                </div>
              }
            }
          </div>
        </div>
      }
    </div>

    <div class="error-message"></div>

    @for (label_input of (labelsInputs$ | async); track label_input.label) {
      <div style="margin-bottom: 20px;">
        <label class="label-input-form-chang">
          {{ label_input.label }}
        </label>
        <input [id]="label_input.controlName" class="input-from-chang" type="text" [placeholder]="label_input.placeholder" [formControlName]="label_input.controlName">
      </div>
    }

    <div class="checkbox-agreement">
      <input type="checkbox" id="agreement" style="margin-right: 8px; width: 16px; height: 16px;">
      <label for="agreement" style="font-size: 14px; color: #666;">
        Я согласен с <a style="color: #3498db; text-decoration: underline;">условиями соглашения и AML политикой</a>
      </label>
    </div>

    <button id="create-request" type="submit">
      Создать заявку
    </button>
  </form>
</main>
